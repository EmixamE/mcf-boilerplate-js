import {SUB_SCHEMES as MCF_SUB_SCHEMES} from '../mcf';

// ICMS <-> MCF transformation
const ICMS_MCF_MAPPING_TABLE: Array<[number, number]> = [
  [606001, 1],
  [606002, 2],
  [606003, 3],
  [606006, 6],
  [606011, 11],
  [606012, 12],
  [606014, 14],
  [606016, 16],
  [606017, 17],
  [606018, 18],
  [606021, 21],
  [606022, 22],
  [606023, 23],
  [606024, 24],
  [606025, 25],
  [606026, 26],
  [606027, 27],
  [606028, 28],
  [606029, 29],
  [606030, 30],
  [606031, 31],
  [606032, 32],
  [606033, 33],
  [606034, 34],
  [606035, 35],
  [606036, 36],
  [606037, 37],
  [606038, 38],
  [606039, 86],
  [606040, 39],
  [606041, 40],
  [606042, 41],
  [606043, 42],
  [606044, 43],
  [606045, 44],
  [606046, 45],
  [606047, 46],
  [606048, 47],
  [606049, 48],
  [606050, 49],
  [606051, 50],
  [606052, 51],
  [606053, 52],
  [606054, 53],
  [606055, 54],
  [606056, 55],
  [606057, 56],
  [606058, 57],
  [606059, 58],
  [606060, 59],
  [606061, 60],
  [606062, 61],
  [606063, 62],
  [606064, 63],
  [606065, 64],
  [606066, 65],
  [606067, 66],
  [606068, 67],
  [606069, 68],
  [606070, 69],
  [606071, 70],
  [606072, 71],
  [606073, 72],
  [606074, 73],
  [606075, 74],
  [606076, 75],
  [606077, 76],
  [606078, 77],
  [606079, 78],
  [606080, 79],
  [606081, 80],
  [606082, 81],
  [606083, 82],
  [606084, 83],
  [606085, 84],
  [606086, 85],
  [606087, 87],
  [606088, 88],
  [606089, 89],
  [606090, 90],
  [606091, 91],
  [606092, 92],
  [606093, 93],
  [606094, 94],
  [606095, 95],
  [606096, 96],
  [606097, 97],
  [606098, 98],
  [606099, 99],
  [606100, 100],
  [606101, 101],
  [606102, 102],
  [606103, 103],
  [606104, 104],
  [606105, 105],
  [606106, 106],
  [606107, 107],
  [606108, 108],
  [606109, 109],
  [606110, 110],
  [606111, 111],
  [606112, 112],
  [606113, 113],
  [606114, 114],
  [606115, 115],
  [606116, 116],
  [606117, 117],
  [606118, 118],
  [606119, 119],
  [606120, 120],
  [606121, 121],
  [606122, 122],
  [606123, 123],
  [606124, 124],
  [606125, 125],
  [606126, 126],
  [606127, 127],
  [606128, 128],
  [606129, 129],
  [606130, 130],
  [606131, 131],
  [606132, 132],
  [606133, 133],
  [606134, 134],
  [606135, 135],
  [606136, 136],
  [606137, 137],
  [606138, 138],
  [606139, 139],
  [606140, 140],
  [606141, 141],
  [606142, 142],
  [606143, 143],
  [606144, 144],
  [606145, 145],
  [606146, 146],
  [606147, 147],
  [606148, 148],
  [606149, 149],
  [606150, 150],
  [606151, 151],
  [606152, 152],
  [606153, 153],
  [606154, 154],
  [606155, 155],
  [606156, 156],
  [606157, 157],
  [606158, 158],
  [606159, 159],
  [606160, 160],
  [606161, 161],
  [606162, 162],
  [606163, 163],
  [606164, 164],
  [606165, 165],
  [606166, 166],
  [606167, 167],
  [606168, 168],
  [606169, 169],
  [606170, 170],
  [606171, 171],
  [606172, 172],
  [606173, 173],
  [606174, 174],
  [606175, 175],
  [606176, 176],
  [606177, 177],
  [606178, 178],
  [606179, 179],
];

const map = <T extends {id: any}>(
  mappings: Array<[string | number, string | number]>,
  targetCollection: T[],
  id,
  {sourceIndex = 0, targetIndex = 1} = {},
) => {
  const mappingFound = mappings.find((mapping) => mapping[sourceIndex] === id) || [];
  return targetCollection.find((item) => item.id === mappingFound[targetIndex]);
};

export const mapIcmsToMcfSubScheme = (id: number) => map(ICMS_MCF_MAPPING_TABLE, MCF_SUB_SCHEMES, id);
